<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>callback</title>
    <script type="text/javascript" src="./callback.js"></script>
</head>
<body>
    <div>
        callback <br>
        - 함수 선언이후 함수 안에서 다시 다른 함수를 선언하여 실행되는 함수 <br>
        (중첩함수는 외부함수의 일부로서 작동하지만 콜백함수는 외부함수의 매개변수(값)로서 작동된다.)<br><br>
        
        - 값으로 사용될 수 있는 특성을 이용하면 함수의 인자로 함수를 전달할 수 있다.<br>
        다른 함수의 매개변수로 사용되거나, event로 특정시점에 호출되는 함수 <br>
        비동기적으로 작동될때 사용된다.<br><br>
    </div>
    <div>
        콜백함수 사용 원칙<br>
        1. 익명의 함수 사용<br>
           - 함수의 내부에서 실행되기 때문에 이름을 붙이지 않아도 된다.<br>
        2. 함수의 이름(만) 넘기기<br>
           - null과 undefined 타입을 제외하고 모든 것을 객체로 다룬다.<br>
           - 함수를 인자로 사용할 때 callback, finishFunc 처럼 () 를 붙일 필요가 없다<br>
        3. 전역변수, 지역변수 콜백함수의 파라미터로 전달 가능<br><br>

        콜백 속 콜백<br>
        - 스크립트가 두 개 있는 경우 스크립트를 순차적으로 불러오고 싶은 경우<br>
          loadScript를 호출하여 처리한다.<br><br>

        콜백함수 주의점<br>
        1. this를 사용한 콜백함수<br>
        - this 객체가 window라는 글로벌 객체를 가리킨다.<br>
        - call()과 apply()를 사용하여 this를 보호할 수 있다.<br>
        2. 콜백지옥 (Callback Hell)<br>
        - 함수의 매개변수로 넘겨지는 콜백 함수가 반복되어 무한루프에 빠지는 경우<br><br>
    </div>
    <div>
        Callback을 활용한 비동기적 프로그래밍<br>
        비동기적 테크닉 : 소중한 싱글스레드의 멈춤을 방지한다. 즉 블록킹을 방지하여 싱글스레드가 논블록킹으로 동작하게 한다.<br><br>

        비동기적 테크닉을 사용하는 경우<br>
        1.사용자 이벤트 처리<br>
        - 브라우저 화면에서 발생하는 사용자의 이벤트는 예측이 불가능하다.<br>
        화면이벤트를 관리담당하는 녀석에게 우리는 특정이벤트가 발생할 때 호출을 원하는 내용을 callback 함수에 전달하게 된다.<br><br>

        2.네트워크 응답 처리<br>
        - 화면단에서 서버에게 요청을 보냈을 때, 그 응답이 언제 올지 알 수 없다. 따라서 이런 서버에 대한 응답처리 등도 비동기적으로 처리해야 한다.<br><br>

        3.파일을 읽고 쓰는 등의 파일 시스템 작업<br><br>

        4.의도적으로 시간 지연을 사용하는 기능(알람 등)<br>
        위와 같이 이벤트 등을 기다리는데 하나뿐인 소중한 스레드를 사용한다면, 또 서버의 응답을 기다리기 위해 하나뿐인 소중한 스레드를 사용한다면…<br>
        사용자는 멈춰져 있는 화면을 보게되는 것이다. 위와 같이 스레드의 블록킹을 야기하는 작업은 필수적으로 비동기적 프로그래밍을 해야 한다.
    </div>
</body>
</html>